<ion-header>
  <ion-navbar color="danger">
    <ion-title>Où est la fête?</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="page-home">
      <div *ngFor="let message of data.messages | async">
        
            <ion-card [ngClass]="(message.author == data.currentauthor) ? 'card-right' : 'card-left'"> 
                <ion-card-header>
               <b>{{message.author}}</b>
              
                
                </ion-card-header>
                <ion-card-content>
              <p>{{message.content}}</p>
             <p>{{message.timestamp|date: 'H:mm'}} </p>
             <p></p>
                <div *ngIf="message.latitude && message.longitude;">
                    <button ion-button full (click)="showMarkerMap(message.latitude, message.longitude, message.author)">
                      Open Map
                    </button>
                   </div>
              

                </ion-card-content>
              </ion-card>
         
        
      </div>

    
</ion-content>

<ion-footer>
  <ion-grid>

    <ion-row>
        <ion-col>
            <ion-item class="choose-author">
              <ion-label>Choose author:</ion-label>
                <ion-select [(ngModel)]="author">
                    <ion-option value="a1">Hugo</ion-option>
                    <ion-option value="a2">Martin</ion-option>
                    <ion-option value="a3">Admin</ion-option>
                  </ion-select>                
            </ion-item>
          </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-input type="text" placeholder="Enter Chat Message" [(ngModel)]="msgContent"></ion-input>
      </ion-col>
  
      <ion-col style="align-content: center">
        <button ion-button color="dark" (click)="send()" round icon-end>Send<ion-icon name="paper-plane"></ion-icon></button>
      </ion-col>
    </ion-row>

  </ion-grid>  
  
</ion-footer>